-- Database: caixa
-- marco.mangan@gmail.com
-- http://jdbc.postgresql.org/download/postgresql-9.2-1000.jdbc4.jar
-- DROP DATABASE caixa;

CREATE DATABASE caixa
  WITH OWNER = postgres
       ENCODING = 'UTF8'
       TABLESPACE = pg_default
       LC_COLLATE = 'Portuguese_Brazil.1252'
       LC_CTYPE = 'Portuguese_Brazil.1252'
       CONNECTION LIMIT = -1;
       
CREATE TABLE contas
(
  id serial NOT NULL,
  cpf character varying,
  numero character varying,
  senha character varying,
  CONSTRAINT contas_pkey PRIMARY KEY (id ),
  CONSTRAINT contas_numero_key UNIQUE (numero )
)
WITH (
  OIDS=FALSE
);
ALTER TABLE contas
  OWNER TO postgres;
  
  
REATE TABLE operacoes
(
  id serial NOT NULL,
  conta integer,
  valor numeric,
  CONSTRAINT operacoes_pkey PRIMARY KEY (id ),
  CONSTRAINT conta_pk FOREIGN KEY (conta)
      REFERENCES contas (id) MATCH SIMPLE
      ON UPDATE CASCADE ON DELETE CASCADE
)
WITH (
  OIDS=FALSE
);
ALTER TABLE operacoes
  OWNER TO postgres;

-- Index: fki_conta_pk

-- DROP INDEX fki_conta_pk;

CREATE INDEX fki_conta_pk
  ON operacoes
  USING btree
  (conta );

       